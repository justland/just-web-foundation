import{o}from"./observe-attribute-DJMrXwPX.js";import{f as d}from"./findKey-BZZwGHNT.js";function y(c){function a(e){const r=c.className;return d(e.themes,n=>{const t=e.themes[n];if(t===void 0)return!1;const m=Array.isArray(t)?t[0]:t;return!!m&&r.includes(m)})??e.defaultTheme}function s(e){const r=e.theme;if(!r)return;const u=Object.values(e.themes).flatMap(l=>Array.isArray(l)?[...l]:[l]),n=c.className.trim(),m=(n?n.split(/\s+/):[]).filter(l=>!u.includes(l)),f=r in e.themes?Array.isArray(e.themes[r])?[...e.themes[r]]:[e.themes[r]]:[];c.className=[...m,...f].filter(Boolean).join(" ")}function i(e){const r=o({class:u=>{if(u===null){e.handler(e.defaultTheme);return}for(const n in e.themes){const t=e.themes[n];if(t&&u.includes(Array.isArray(t)?t[0]:t)){e.handler(n);return}}e.handler(e.defaultTheme)}},c);return{disconnect:()=>r.disconnect()}}return{get:a,set:s,subscribe:i}}const h=new WeakMap;function T(c){const a=c??(typeof document<"u"?document.documentElement:null);if(!a)return{get:()=>{},set:()=>{},subscribe:()=>({disconnect:()=>{}})};let s=h.get(a);return s||(s=y(a),h.set(a,s),s)}export{T as c};
